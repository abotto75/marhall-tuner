<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>Marshall Tuner — v6.3</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="topbar"><div class="brand">Marshall Tuner <span class="ver">v6.3</span></div></header>
  <main>
    <section class="card quick">
      <div class="section-title">Quick</div>
      <p class="section-sub">Seleziona <b>Genere</b> e opzionalmente <b>Sottogenere</b>. Oppure usa <b>Ricerca Genere</b> con Artista/Brano. I LED rispecchiano il <b>preset</b> (round 5↓/6↑).</p>

      <div class="finder">
        <div class="field">
          <label>Artista</label>
          <input id="artistField" placeholder="Es. Chris Stapleton">
        </div>
        <div class="field">
          <label>Brano</label>
          <input id="trackField" placeholder="Es. Tennessee Whiskey">
        </div>
        <div class="finder-actions">
          <button id="matchBtn" class="primary">Ricerca Genere</button>
          <button id="resetSearchBtn" class="ghost">Reset ricerca</button>
        </div>
        <div id="matchMsg" class="hint"></div>
      </div>

      <div id="genreWrap" class="block">
        <div class="block-title">Generi</div>
        <div id="chips" class="chips emph"></div>
      </div>
      <div id="subWrap" class="block subtle" hidden>
        <div class="block-title alt">Sottogeneri</div>
        <div id="subchips" class="chips alt"></div>
      </div>

      <div class="selbar">
        <div class="seltext" id="selText">Nessuna selezione</div>
        <div class="source">
          <span id="sourceBadge" class="badge badge-src preset">Preset</span>
          <span id="timestamp" class="ts" hidden>—</span>
        </div>
      </div>

      <div class="quick-output">
        <div class="toggle">
          <button id="modePercent" class="tbtn active">% </button>
          <button id="modeClock" class="tbtn">Ore</button>
        </div>
        <div class="readout">
          <div class="dial">
            <div class="dial-head">BASS</div>
            <div class="dial-knob">
              <img id="bassKnob" src="img/knob.svg" alt="Bass knob">
              <div class="tick" id="bassTick">—/10</div>
            </div>
            <div class="dial-value" id="bassValue">—</div>
          </div>
          <div class="dial">
            <div class="dial-head">TREBLE</div>
            <div class="dial-knob">
              <img id="trebleKnob" src="img/knob.svg" alt="Treble knob">
              <div class="tick" id="trebleTick">—/10</div>
            </div>
            <div class="dial-value" id="trebleValue">—</div>
          </div>
        </div>
        <div class="guide">
          <div class="guide-title">Guida all'ascolto</div>
          <div id="guideText" class="guide-text">Seleziona un (sotto)genere per i suggerimenti rapidi.</div>
        </div>
        <div id="subGuide" class="micro-guide" hidden></div>
      </div>
    </section>

    <section class="card ai">
      <div class="section-title">AI Pro</div>
      <p class="section-sub">Parti dal preset selezionato e chiedi un affinamento (±0.3h). Qui scegli <b>Ambiente</b> e <b>Volume</b>.</p>
      <div class="grid">
        <div class="field">
          <label>Dettagli (testo libero)</label>
          <input id="freeText" placeholder="Es. Elton John — live 1975 — remaster">
        </div>
        <div class="field">
          <label>Ambiente (default: Vicino muro)</label>
          <select id="aiRoom">
            <option value="nearwall" selected>Vicino muro</option>
            <option value="neutral">Scrivania</option>
            <option value="corner">Angolo</option>
            <option value="farwall">Lontano muro</option>
          </select>
        </div>
        <div class="field">
          <label>Volume cassa</label>
          <input type="range" id="aiVolume" min="0" max="100" value="70">
          <div class="hint"><span id="aiVolVal">70</span>%</div>
        </div>
      </div>
      <div class="actions">
        <button id="aiBtn" class="primary">Chiedi ad AI Tune Pro</button>
        <button id="resetBtn" class="ghost">Reset preset</button>
      </div>
      <div class="notes" id="notes">L’AI userà “Genere/Sottogenere selezionato + Dettagli”.</div>
    </section>
  </main>
  <script src="app.js?v=6.3"></script>
</body>
</html>
